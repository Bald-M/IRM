import{_ as E}from"./Industry Internship System Logo-lRtv42H_.js";import{_ as b,o as c,c as z,J as R,p as U,m as q,f as g,d as L,a as f,r as y,b as a,k as w,w as o,e as l,g as u,l as O}from"./index-CpCga818.js";const $={},D=n=>(U("data-v-21868de4"),n=n(),q(),n),F={class:"container"},J=D(()=>g("div",{style:{display:"flex","justify-content":"center"}},[g("img",{src:E,class:"industry-internship-system-logo"})],-1));function W(n,m){return c(),z("div",F,[J,R(n.$slots,"default",{},void 0,!0)])}const A=b($,[["render",W],["__scopeId","data-v-21868de4"]]),K={style:{display:"flex","flex-flow":"row-reverse"}},j=L({__name:"TestView",setup(n){const m=O(),h=f(),p=f(!0),e=y({email:"",password:"123456",role:"Student"}),v=y({email:[{required:!0,message:"This field is required",trigger:"blur"},{type:"email",trigger:"blur"}],password:[{required:!0,message:"This field is requried",trigger:"blur"}]}),V=f("top"),S=async r=>{r&&await r.validate((t,d)=>{t?(console.log("submit"),e.email.toLowerCase()==="sue"?(localStorage.setItem("authToken","TESTJSONWEBTOKENADMIN"),m.push("/admin/panel")):e.email.includes("student.wintec.ac.nz")?(localStorage.setItem("authToken","TESTJSONWEBTOKENSTUDENT"),m.push("/student/home")):alert("Username: sue or your wintec student email, leave the password field, then press log in")):console.log("error submit",d)})},T=()=>{switch(e.role){case"Student":p.value=!0;break;case"Industry":p.value=!1;break}},k=()=>{const r="@student.wintec.ac.nz";e.email.endsWith(r)||(e.email.includes("@")?e.email=e.email.split("@")[0]+r:e.email+=r)};return(r,t)=>{const d=a("el-radio"),I=a("el-radio-group"),i=a("el-form-item"),_=a("el-input"),x=a("RouterLink"),B=a("el-text"),N=a("el-button"),C=a("el-form");return c(),w(A,null,{default:o(()=>[l(C,{model:e,rules:v,ref_key:"ruleFormRef",ref:h,"label-width":"auto","label-position":V.value,"status-icon":""},{default:o(()=>[l(i,{label:"Role",class:"mt-2",prop:"role"},{default:o(()=>[l(I,{modelValue:e.role,"onUpdate:modelValue":t[0]||(t[0]=s=>e.role=s),onChange:T},{default:o(()=>[l(d,{value:"Student",size:"large",class:"radio"},{default:o(()=>[u("Student")]),_:1}),l(d,{value:"Industry",size:"large",class:"radio"},{default:o(()=>[u("Industry")]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(i,{label:"Email",class:"mt-2",prop:"email"},{default:o(()=>[p.value===!0?(c(),w(_,{key:0,modelValue:e.email,"onUpdate:modelValue":t[1]||(t[1]=s=>e.email=s),clearable:"",placeholder:"id@student.wintec.ac.nz",onBlur:k},null,8,["modelValue"])):(c(),w(_,{key:1,modelValue:e.email,"onUpdate:modelValue":t[2]||(t[2]=s=>e.email=s),clearable:"",placeholder:"id@student.wintec.ac.nz"},null,8,["modelValue"]))]),_:1}),l(i,{label:"Password",prop:"password"},{default:o(()=>[l(_,{modelValue:e.password,"onUpdate:modelValue":t[3]||(t[3]=s=>e.password=s),type:"password",clearable:"",placeholder:"******","show-password":""},null,8,["modelValue"])]),_:1}),g("div",K,[l(B,{size:"small"},{default:o(()=>[l(x,{to:"/reset-password/request",style:{color:"#6B7280"}},{default:o(()=>[u("Forgot password?")]),_:1})]),_:1})]),l(i,{class:"mt-1"},{default:o(()=>[l(N,{type:"primary",onClick:t[4]||(t[4]=s=>S(h.value))},{default:o(()=>[u("Log In")]),_:1})]),_:1})]),_:1},8,["model","rules","label-position"])]),_:1})}}}),G=b(j,[["__scopeId","data-v-445a79a2"]]);export{G as default};
