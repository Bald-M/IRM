import{_ as O}from"./Industry Internship System Logo-DqGK1Jny.js";import{d as T,a as w,r as g,b as a,o as b,c as E,e as t,w as o,f as c,g as u,k as V,p as N,l as S,_ as I}from"./index--EHiu3Bc.js";const R=n=>(N("data-v-c3a298e4"),n=n(),S(),n),k={class:"container"},B=R(()=>c("div",{style:{display:"flex","justify-content":"center"}},[c("img",{src:O,class:"industry-internship-system-logo"})],-1)),C={style:{display:"flex","flex-flow":"row-reverse"}},L={style:{"text-align":"center"}},q=T({__name:"LoginView",setup(n){const p=V(),_=w(),r=g({emailOrUsername:"",password:"123456"}),h=g({emailOrUsername:[{required:!0,message:"This field is required",trigger:"blur"},{validator:(i,e,s)=>{const l=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,m=/^[a-zA-Z0-9_]+$/;return e?l.test(e)||m.test(e)?s():s(new Error("Invalid email or username")):s(new Error("Please enter email or username"))},trigger:"blur"}],password:[{required:!0,message:"This field is requried",trigger:"blur"}]}),v=w("top"),y=async i=>{i&&await i.validate((e,s)=>{e?(console.log("submit"),r.emailOrUsername.toLowerCase()==="sue"?(localStorage.setItem("authToken","TESTJSONWEBTOKENADMIN"),p.push("/admin/panel")):r.emailOrUsername.includes("student.wintec.ac.nz")?(localStorage.setItem("authToken","TESTJSONWEBTOKENSTUDENT"),p.push("/student/home")):alert("Username: sue or your wintec student email, leave the password field, then press log in")):console.log("error submit",s)})};return(i,e)=>{const s=a("el-input"),l=a("el-form-item"),m=a("RouterLink"),f=a("el-text"),U=a("el-button"),x=a("el-form");return b(),E("div",k,[t(x,{model:r,rules:h,ref_key:"ruleFormRef",ref:_,"label-width":"auto",class:"form","label-position":v.value,"status-icon":""},{default:o(()=>[B,t(l,{label:"Email / Username",class:"mt-2",prop:"emailOrUsername"},{default:o(()=>[t(s,{modelValue:r.emailOrUsername,"onUpdate:modelValue":e[0]||(e[0]=d=>r.emailOrUsername=d),clearable:"",placeholder:"id@student.wintec.ac.nz"},null,8,["modelValue"])]),_:1}),t(l,{label:"Password",prop:"password"},{default:o(()=>[t(s,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=d=>r.password=d),type:"password",clearable:"",placeholder:"******","show-password":""},null,8,["modelValue"])]),_:1}),c("div",C,[t(f,{size:"small"},{default:o(()=>[t(m,{to:"/reset-password/request",style:{color:"#6B7280"}},{default:o(()=>[u("Forgot password?")]),_:1})]),_:1})]),t(l,{class:"mt-1"},{default:o(()=>[t(U,{type:"primary",onClick:e[2]||(e[2]=d=>y(_.value))},{default:o(()=>[u("Log In")]),_:1})]),_:1}),c("div",L,[t(f,{size:"small"},{default:o(()=>[u("No account yet? "),t(m,{to:"/registration"},{default:o(()=>[u("Create account ")]),_:1})]),_:1})])]),_:1},8,["model","rules","label-position"])])}}}),A=I(q,[["__scopeId","data-v-c3a298e4"]]);export{A as default};
