import{_ as C}from"./Industry Internship System Logo-lRtv42H_.js";import{d as z,a as _,r as h,b as a,o as f,c as E,e as t,w as o,g as n,k as v,f as c,l as L,p as R,m as U,_ as q}from"./index-BQEcpNoL.js";const O=i=>(R("data-v-5f8fd59b"),i=i(),U(),i),D={class:"container"},F=O(()=>c("div",{style:{display:"flex","justify-content":"center"}},[c("img",{src:C,class:"industry-internship-system-logo"})],-1)),W={style:{display:"flex","flex-flow":"row-reverse"}},J={style:{"text-align":"center"}},K=z({__name:"LoginView",setup(i){const g=L(),w=_(),m=_(!0),e=h({email:"",password:"123456",role:"Student"}),V=h({email:[{required:!0,message:"This field is required",trigger:"blur"},{type:"email",trigger:"blur"}],password:[{required:!0,message:"This field is requried",trigger:"blur"}]}),k=_("top"),S=async r=>{r&&await r.validate((l,d)=>{l?(console.log("submit"),e.email.toLowerCase()==="sue"?(localStorage.setItem("authToken","TESTJSONWEBTOKENADMIN"),g.push("/admin/panel")):e.email.includes("student.wintec.ac.nz")?(localStorage.setItem("authToken","TESTJSONWEBTOKENSTUDENT"),g.push("/student/home")):alert("Username: sue or your wintec student email, leave the password field, then press log in")):console.log("error submit",d)})},T=()=>{switch(e.role){case"Student":m.value=!0;break;case"Industry":m.value=!1;break}},x=()=>{const r="@student.wintec.ac.nz";e.email.endsWith(r)||(e.email.includes("@")?e.email=e.email.split("@")[0]+r:e.email+=r)};return(r,l)=>{const d=a("el-radio"),I=a("el-radio-group"),u=a("el-form-item"),p=a("el-input"),y=a("RouterLink"),b=a("el-text"),N=a("el-button"),B=a("el-form");return f(),E("div",D,[t(B,{model:e,rules:V,ref_key:"ruleFormRef",ref:w,"label-width":"auto",class:"form","label-position":k.value,"status-icon":""},{default:o(()=>[F,t(u,{label:"Role",class:"mt-2",prop:"role"},{default:o(()=>[t(I,{modelValue:e.role,"onUpdate:modelValue":l[0]||(l[0]=s=>e.role=s),onChange:T},{default:o(()=>[t(d,{value:"Student",size:"large",class:"radio"},{default:o(()=>[n("Student")]),_:1}),t(d,{value:"Industry",size:"large",class:"radio"},{default:o(()=>[n("Industry")]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(u,{label:"Email",class:"mt-2",prop:"email"},{default:o(()=>[m.value===!0?(f(),v(p,{key:0,modelValue:e.email,"onUpdate:modelValue":l[1]||(l[1]=s=>e.email=s),clearable:"",placeholder:"id@student.wintec.ac.nz",onBlur:x},null,8,["modelValue"])):(f(),v(p,{key:1,modelValue:e.email,"onUpdate:modelValue":l[2]||(l[2]=s=>e.email=s),clearable:"",placeholder:"id@student.wintec.ac.nz"},null,8,["modelValue"]))]),_:1}),t(u,{label:"Password",prop:"password"},{default:o(()=>[t(p,{modelValue:e.password,"onUpdate:modelValue":l[3]||(l[3]=s=>e.password=s),type:"password",clearable:"",placeholder:"******","show-password":""},null,8,["modelValue"])]),_:1}),c("div",W,[t(b,{size:"small"},{default:o(()=>[t(y,{to:"/reset-password/request",style:{color:"#6B7280"}},{default:o(()=>[n("Forgot password?")]),_:1})]),_:1})]),t(u,{class:"mt-1"},{default:o(()=>[t(N,{type:"primary",onClick:l[4]||(l[4]=s=>S(w.value))},{default:o(()=>[n("Log In")]),_:1})]),_:1}),c("div",J,[t(b,{size:"small"},{default:o(()=>[n("No account yet? "),t(y,{to:"/registration"},{default:o(()=>[n("Create account ")]),_:1})]),_:1})])]),_:1},8,["model","rules","label-position"])])}}}),M=q(K,[["__scopeId","data-v-5f8fd59b"]]);export{M as default};
