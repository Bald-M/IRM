import{_ as B}from"./Industry Internship System Logo-lRtv42H_.js";import{d as C,a as _,r as b,b as r,o as f,c as z,e as o,w as t,g as n,k as v,f as c,l as E,p as L,m as R,_ as U}from"./index-jLWhBngo.js";const q=i=>(L("data-v-b4c2fed0"),i=i(),R(),i),O={class:"container"},D=q(()=>c("div",{style:{display:"flex","justify-content":"center"}},[c("img",{src:B,class:"industry-internship-system-logo"})],-1)),F={style:{display:"flex","flex-flow":"row-reverse"}},W={style:{"text-align":"center"}},J=C({__name:"LoginView",setup(i){E();const g=_(),m=_(!0),e=b({email:"",password:"123456",role:"Student"}),V=b({email:[{required:!0,message:"This field is required",trigger:"blur"},{type:"email",trigger:"blur"}],password:[{required:!0,message:"This field is requried",trigger:"blur"}]}),h=_("top"),k=async a=>{console.log(a),a&&await a.validate((l,d)=>{l?(console.log("submit"),e.email.toLowerCase()==="sue"?localStorage.setItem("authToken","TESTJSONWEBTOKENADMIN"):e.email.includes("student.wintec.ac.nz")?localStorage.setItem("authToken","TESTJSONWEBTOKENSTUDENT"):alert("Username: sue or your wintec student email, leave the password field, then press log in")):console.log("error submit",d)})},S=()=>{switch(e.role){case"Student":m.value=!0;break;case"Industry":m.value=!1;break}},T=()=>{const a="@student.wintec.ac.nz";e.email.endsWith(a)||(e.email.includes("@")?e.email=e.email.split("@")[0]+a:e.email+=a)};return(a,l)=>{const d=r("el-radio"),x=r("el-radio-group"),u=r("el-form-item"),p=r("el-input"),w=r("RouterLink"),y=r("el-text"),I=r("el-button"),N=r("el-form");return f(),z("div",O,[o(N,{model:e,rules:V,ref_key:"ruleFormRef",ref:g,"label-width":"auto",class:"form","label-position":h.value,"status-icon":""},{default:t(()=>[D,o(u,{label:"Role",class:"mt-2",prop:"role"},{default:t(()=>[o(x,{modelValue:e.role,"onUpdate:modelValue":l[0]||(l[0]=s=>e.role=s),onChange:S},{default:t(()=>[o(d,{value:"Student",size:"large",class:"radio"},{default:t(()=>[n("Student")]),_:1}),o(d,{value:"Industry",size:"large",class:"radio"},{default:t(()=>[n("Industry")]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(u,{label:"Email",class:"mt-2",prop:"email"},{default:t(()=>[m.value===!0?(f(),v(p,{key:0,modelValue:e.email,"onUpdate:modelValue":l[1]||(l[1]=s=>e.email=s),clearable:"",placeholder:"id@student.wintec.ac.nz",onBlur:T},null,8,["modelValue"])):(f(),v(p,{key:1,modelValue:e.email,"onUpdate:modelValue":l[2]||(l[2]=s=>e.email=s),clearable:"",placeholder:"mail@example.com"},null,8,["modelValue"]))]),_:1}),o(u,{label:"Password",prop:"password"},{default:t(()=>[o(p,{modelValue:e.password,"onUpdate:modelValue":l[3]||(l[3]=s=>e.password=s),type:"password",clearable:"",placeholder:"******","show-password":""},null,8,["modelValue"])]),_:1}),c("div",F,[o(y,{size:"small"},{default:t(()=>[o(w,{to:"/reset-password/request",style:{color:"#6B7280"}},{default:t(()=>[n("Forgot password?")]),_:1})]),_:1})]),o(u,{class:"mt-1"},{default:t(()=>[o(I,{type:"primary",onClick:l[4]||(l[4]=s=>k(g.value))},{default:t(()=>[n("Log In")]),_:1})]),_:1}),c("div",W,[o(y,{size:"small"},{default:t(()=>[n("No account yet? "),o(w,{to:"/registration"},{default:t(()=>[n("Create account ")]),_:1})]),_:1})])]),_:1},8,["model","rules","label-position"])])}}}),A=U(J,[["__scopeId","data-v-b4c2fed0"]]);export{A as default};
